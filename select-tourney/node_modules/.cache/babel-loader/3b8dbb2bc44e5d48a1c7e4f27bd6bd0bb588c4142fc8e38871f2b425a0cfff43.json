{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext } from 'react';\nimport { matchContext } from './match-context';\nimport { MATCH_STATES } from './match-states';\nimport { defaultStyle, getCalculatedStyles } from '../settings';\nimport { sortTeamsSeedOrder } from './match-functions';\nfunction Match(_a) {\n  var _b;\n  var {\n      rowIndex,\n      columnIndex,\n      match,\n      previousBottomMatch = null,\n      teams,\n      topText,\n      bottomText,\n      style = defaultStyle,\n      matchComponent: MatchComponent,\n      onMatchClick,\n      onPartyClick\n    } = _a,\n    rest = __rest(_a, [\"rowIndex\", \"columnIndex\", \"match\", \"previousBottomMatch\", \"teams\", \"topText\", \"bottomText\", \"style\", \"matchComponent\", \"onMatchClick\", \"onPartyClick\"]);\n  const {\n    state: {\n      hoveredPartyId\n    },\n    dispatch\n  } = useContext(matchContext);\n  const computedStyles = getCalculatedStyles(style);\n  const {\n    width = 300,\n    boxHeight = 70,\n    connectorColor\n  } = computedStyles;\n  const sortedTeams = teams.sort(sortTeamsSeedOrder(previousBottomMatch));\n  const topParty = (sortedTeams === null || sortedTeams === void 0 ? void 0 : sortedTeams[0]) ? sortedTeams[0] : {};\n  const bottomParty = (sortedTeams === null || sortedTeams === void 0 ? void 0 : sortedTeams[1]) ? sortedTeams[1] : {};\n  const topHovered = !Number.isNaN(hoveredPartyId) && (topParty === null || topParty === void 0 ? void 0 : topParty.id) !== undefined && hoveredPartyId === topParty.id;\n  const bottomHovered = !Number.isNaN(hoveredPartyId) && (bottomParty === null || bottomParty === void 0 ? void 0 : bottomParty.id) !== undefined && hoveredPartyId === bottomParty.id;\n  const participantWalkedOver = participant => match.state === MATCH_STATES.WALK_OVER && teams.filter(team => !!team.id).length < 2 && participant.id;\n  const topWon = topParty.status === MATCH_STATES.WALK_OVER || participantWalkedOver(topParty) || topParty.isWinner;\n  const bottomWon = bottomParty.status === MATCH_STATES.WALK_OVER || participantWalkedOver(bottomParty) || bottomParty.isWinner;\n  const matchState = MATCH_STATES[match.state];\n  const teamNameFallback = (_b = {\n    [MATCH_STATES.WALK_OVER]: '',\n    [MATCH_STATES.NO_SHOW]: '',\n    [MATCH_STATES.DONE]: '',\n    [MATCH_STATES.SCORE_DONE]: '',\n    [MATCH_STATES.NO_PARTY]: ''\n  }[matchState]) !== null && _b !== void 0 ? _b : 'TBD';\n  const resultFallback = participant => {\n    var _a;\n    if (participant.status) {\n      return (_a = {\n        WALKOVER: computedStyles.wonBywalkOverText,\n        [MATCH_STATES.WALK_OVER]: computedStyles.wonBywalkOverText,\n        [MATCH_STATES.NO_SHOW]: computedStyles.lostByNoShowText,\n        [MATCH_STATES.NO_PARTY]: ''\n      }[participant.status]) !== null && _a !== void 0 ? _a : '';\n    }\n    if (participantWalkedOver(participant)) {\n      return computedStyles.wonBywalkOverText;\n    }\n    return '';\n  };\n  const onMouseEnter = partyId => {\n    dispatch({\n      type: 'SET_HOVERED_PARTYID',\n      payload: {\n        partyId,\n        matchId: match.id,\n        rowIndex,\n        columnIndex\n      }\n    });\n  };\n  const onMouseLeave = () => {\n    dispatch({\n      type: 'SET_HOVERED_PARTYID',\n      payload: null\n    });\n  };\n  bottomParty.name = bottomParty.name || teamNameFallback;\n  bottomParty.resultText = bottomParty.resultText || resultFallback(bottomParty);\n  topParty.name = topParty.name || teamNameFallback;\n  topParty.resultText = topParty.resultText || resultFallback(topParty);\n  return _jsx(\"svg\", Object.assign({\n    width: width,\n    height: boxHeight,\n    viewBox: `0 0 ${width} ${boxHeight}`\n  }, rest, {\n    children: _jsx(\"foreignObject\", Object.assign({\n      x: 0,\n      y: 0,\n      width: width,\n      height: boxHeight\n    }, {\n      children: MatchComponent && _jsx(MatchComponent, Object.assign({}, {\n        match,\n        onMatchClick,\n        onPartyClick,\n        onMouseEnter,\n        onMouseLeave,\n        topParty,\n        bottomParty,\n        topWon,\n        bottomWon,\n        topHovered,\n        bottomHovered,\n        topText,\n        bottomText,\n        connectorColor,\n        computedStyles\n      }))\n    }))\n  }));\n}\nexport default Match;\n//# sourceMappingURL=match-wrapper.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}