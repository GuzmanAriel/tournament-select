{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { baseUrl } from '../../app/shared/baseUrl';\nexport const fetchTournaments = createAsyncThunk('tournaments/fetchTournaments', async () => {\n  const response = await fetch(baseUrl + 'tournaments');\n  if (!response.ok) {\n    return Promise.reject('Unable to fetch, status: ' + response.status);\n  }\n  const data = await response.json();\n  return data;\n});\nconst initialState = {\n  tournamentsArray: [],\n  isLoading: true,\n  errMsg: ''\n};\nconst tournamentsSlice = createSlice({\n  name: 'tournaments',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchTournaments.pending, state => {\n      console.log('%csrc/features/tournaments/tournamentsSlice.js:31 \"pening\"', 'color: #007acc;', \"pening\");\n      state.isLoading = true;\n    }).addCase(fetchTournaments.fulfilled, (state, action) => {\n      console.log('%csrc/features/tournaments/tournamentsSlice.js:34 object', 'color: #007acc;', \"fullfilled\");\n      state.isLoading = false;\n      state.errMsg = '';\n    }).addCase(fetchTournaments.rejected, (state, action) => {\n      state.isLoading = false;\n      state.errMsg = action.error ? action.error.message : 'Fetch failed';\n    });\n  }\n});\nexport const tournamentsReducer = tournamentsSlice.reducer;\nexport const selectAllTournaments = state => {\n  return state.tournaments.tournamentsArray;\n};\nexport const selectCurrentTournaments = state => {\n  const today = new Date().toISOString().split('T')[0];\n  return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc.startsWith(today));\n};\nexport const selectPastTournaments = state => {\n  //return filter of past tournaments\n  const today = new Date().toISOString();\n  return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc < today);\n};\nexport const selectUpcomingTournaments = state => {\n  //return filter of past tournaments\n  const today = new Date().toISOString();\n  return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc > today);\n};\nexport const selectTournamentById = id => state => {\n  return state.tournaments.tournamentsArray.find(tournament => tournament.id === parseInt(id));\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","baseUrl","fetchTournaments","response","fetch","ok","Promise","reject","status","data","json","initialState","tournamentsArray","isLoading","errMsg","tournamentsSlice","name","reducers","extraReducers","builder","addCase","pending","state","console","log","fulfilled","action","rejected","error","message","tournamentsReducer","reducer","selectAllTournaments","tournaments","selectCurrentTournaments","today","Date","toISOString","split","filter","tournament","date_utc","startsWith","selectPastTournaments","selectUpcomingTournaments","selectTournamentById","id","find","parseInt"],"sources":["/Users/ag/Desktop/SelectTourney/select-tourney/src/features/tournaments/tournamentsSlice.js"],"sourcesContent":["\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { baseUrl } from '../../app/shared/baseUrl';\n\n\nexport const fetchTournaments = createAsyncThunk(\n    'tournaments/fetchTournaments',\n    async () => {\n        const response = await fetch(baseUrl + 'tournaments');\n        if (!response.ok) {\n            return Promise.reject('Unable to fetch, status: ' + response.status);\n        }\n        const data = await response.json();\n        return data;\n    }\n);\n\nconst initialState = {\n    tournamentsArray: [],\n    isLoading: true,\n    errMsg: ''\n};\n\nconst tournamentsSlice = createSlice({\n    name: 'tournaments',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchTournaments.pending, (state) => {\n                console.log('%csrc/features/tournaments/tournamentsSlice.js:31 \"pening\"', 'color: #007acc;', \"pening\");\n                state.isLoading = true;\n            })\n            .addCase(fetchTournaments.fulfilled, (state, action) => {\n                console.log('%csrc/features/tournaments/tournamentsSlice.js:34 object', 'color: #007acc;', \"fullfilled\");\n                state.isLoading = false;\n                state.errMsg = '';\n            })\n            .addCase(fetchTournaments.rejected, (state, action) => {\n                state.isLoading = false;\n                state.errMsg = action.error ? action.error.message : 'Fetch failed';\n            });\n    }\n});\n\nexport const tournamentsReducer = tournamentsSlice.reducer;\n\nexport const selectAllTournaments = (state) => {\n    return state.tournaments.tournamentsArray;\n};\n\nexport const selectCurrentTournaments = (state) => {\n    const today = new Date().toISOString().split('T')[0];\n    return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc.startsWith(today));\n};\n\nexport const selectPastTournaments = (state) => {\n    //return filter of past tournaments\n    const today = new Date().toISOString();\n    return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc < today);\n};\n\nexport const selectUpcomingTournaments = (state) => {\n    //return filter of past tournaments\n    const today = new Date().toISOString();\n    return state.tournaments.tournamentsArray.filter(tournament => tournament.date_utc > today);\n};\n\nexport const selectTournamentById = (id) => (state) => {\n    return state.tournaments.tournamentsArray.find(\n        (tournament) => tournament.id === parseInt(id)\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}